apiVersion: v1
kind: Pod
metadata:
  name: redis-client-e
spec:
  containers:
  - name: redis-client-e
    image: redis:latest
    command: ["sleep", "3600"]
    env:
    - name: PORT 
      valueFrom:
        secretKeyRef:
          name: redb-e-app-db           
          key: port
    - name: PASS
      valueFrom:
        secretKeyRef:
          name: redb-e-app-db
          key: password
    - name: SERVICE
      valueFrom:
        secretKeyRef:
          name: redb-e-app-db
          key: service_name
    volumeMounts:
      - name: client-certificate
        readOnly: true
        mountPath: "/cert"
  volumes:
    - name: client-certificate
      secret:
        secretName: client-certificate
