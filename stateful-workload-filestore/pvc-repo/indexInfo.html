<html>

<head>
    <title>Stateful Workload Tutorial</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

    <script>
        $(function () {
            $("#includedContent").load("indexData.html", function(){
                var rows = $('text').length;
                document.getElementById('totalRows').innerHTML = rows;
                if (rows > 0){
                    document.getElementById('latestDate').innerHTML = $('text')[rows-1].innerHTML;
                    document.getElementById('latestWriter').innerHTML = $('text2')[rows-1].innerHTML;
                }
                var allWriters = $('text2');
                const mySet = new Set();
                
                for(let i = 0; i < allWriters.length; i++){
                    mySet.add(allWriters[i].innerHTML);
                }

                document.getElementById('uniqueWriters').innerHTML = mySet.size;
            });
        });
    </script>
</head>

<body>
    <h1>Latest Info </h1>
    <div id="latestInfo">
        <h2>Latest Date:</h2>
        <h3 id="latestDate"></h3>
        <h2>Latest Writer:</h2>
        <h3 id="latestWriter"></h3>
        <h2>Total entries:</h2>
        <h3 id="totalRows"></h3>
        <h2>Number of Unique Writers:</h2>
        <h3 id="uniqueWriters"></h3>
    </div>

    <hr>
    <h1>Write History: </h1>
    <div id="includedContent"></div>
</body>


</html>